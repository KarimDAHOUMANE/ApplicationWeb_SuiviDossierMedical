/*
 * DjValidator v1.1.1
 * Copyright (C) 2018 David Esneyder Jerez Garnica
 * esneyderg357@gmail.com
 * See the GNU General Public license <http://www.gnu.org/licenses/gpl-3.0.html>.
 */
if("undefined"==typeof jQuery)throw new Error("DjValidator requires jQuery 1.5.1 or higher.");!function(l){var f=["word","atext","antext","text","int","num","dig","file","efile","email","phone","url","regexp","equal","nequal","or","multi","call","radio","check","ip"],o=[function(e,r){if(r.length<3)throw new Error("Error validating field '"+e.attr("name")+"', insufficient parameters.");if("*"==r[2]){if(!new RegExp("^\\S{"+r[1]+",}$").test(e.val()))return c(e,u.word_min.replace("$1",r[1])),!1}else if(!new RegExp("^\\S{"+r[1]+","+r[2]+"}$").test(e.val()))return c(e,u.word_between.replace("$1",r[1]).replace("$2",r[2])),!1;return!0},function(e,r){if(r.length<3)throw new Error("Error validating field '"+e.attr("name")+"', insufficient parameters.");if("*"==r[2]){if(!new RegExp("^[a-záéíóúñçü ]{"+r[1]+",}$","i").test(e.val()))return c(e,u.atext_min.replace("$1",r[1])),!1}else if(!new RegExp("^[a-záéíóúñçü ]{"+r[1]+","+r[2]+"}$","i").test(e.val()))return c(e,u.atext_between.replace("$1",r[1]).replace("$2",r[2])),!1;return!0},function(e,r){if(r.length<3)throw new Error("Error validating field '"+e.attr("name")+"', insufficient parameters.");if("*"==r[2]){if(!new RegExp("^[a-z0-9áéíóúñçü ]{"+r[1]+",}$","i").test(e.val()))return c(e,u.antext_min.replace("$1",r[1])),!1}else if(!new RegExp("^[a-z0-9áéíóúñçü ]{"+r[1]+","+r[2]+"}$","i").test(e.val()))return c(e,u.antext_between.replace("$1",r[1]).replace("$2",r[2])),!1;return!0},function(e,r){if(r.length<3)throw new Error("Error validating field '"+e.attr("name")+"', insufficient parameters.");var t=e.val();if("*"==r[2]){if(t.length<r[1])return c(e,u.text_min.replace("$1",r[1])),!1}else if(t.length<r[1]||t.length>r[2])return c(e,u.text_between.replace("$1",r[1]).replace("$2",r[2])),!1;return!0},function(e,r){if(r.length<3)throw new Error("Error validating field '"+e.attr("name")+"', insufficient parameters.");var t=e.val();if(!/^[+-]?\d+$/.test(t))return c(e,u.int_invalid),!1;if("*"==r[1]){if("*"==r[2])return!0;if(parseInt(t)>r[2])return c(e,u.int_max.replace("$1",r[2])),!1}else if("*"==r[2]){if(parseInt(t)<r[1])return c(e,u.int_min.replace("$1",r[1])),!1}else if(parseInt(t)<r[1]||parseInt(t)>r[2])return c(e,u.int_between.replace("$1",r[1]).replace("$2",r[2])),!1;return!0},function(e,r){if(r.length<3)throw new Error("Error validating field '"+e.attr("name")+"', insufficient parameters.");var t=e.val();if(isNaN(t))return c(e,u.num_invalid),!1;if("*"==r[1]){if("*"==r[2])return!0;if(parseFloat(t)>r[2])return c(e,u.num_max.replace("$1",r[2])),!1}else if("*"==r[2]){if(parseFloat(t)<r[1])return c(e,u.num_min.replace("$1",r[1])),!1}else if(parseFloat(t)<r[1]||parseFloat(t)>r[2])return c(e,u.num_between.replace("$1",r[1]).replace("$2",r[2])),!1;return!0},function(e,r){if(r.length<3)throw new Error("Error validating field '"+e.attr("name")+"', insufficient parameters.");var t=e.val();if("*"==r[2]){if(!new RegExp("^\\d{"+r[1]+",}$").test(t))return c(e,u.dig_min.replace("$1",r[1])),!1}else if(!new RegExp("^\\d{"+r[1]+","+r[2]+"}$").test(t))return c(e,u.dig_between.replace("$1",r[1]).replace("$2",r[2])),!1;return!0},function(e,r){if(!File)return console.error("The 'file' validator requires javascript file api, the field  '"+e.attr("name")+"' was ignored."),!0;if(r.length<5)throw new Error("Error validating field '"+e.attr("name")+"', insufficient parameters.");var t=e[0].files;if("*"==r[2]){if(t.length<r[1])return c(e,u.file_min.replace("$1",r[1])),!1}else if(t.length<r[1]||t.length>r[2])return c(e,u.file_between.replace("$1",r[1]).replace("$2",r[2])),!1;if(r[5]){var a=r[5].split("|"),n=0==a.length;for(i=0;i<t.length;i++){for(n=!1,j=0;j<a.length;j++)t[i].type==a[j]&&(n=!0);if(!n)break}if(!n)return c(e,u.file_format),!1}for(i=0;i<t.length;i++){if("*"!=r[3]&&t[i].size/1024<r[3])return c(e,u.file_min_size.replace("$1",r[3])),!1;if("*"!=r[4]&&t[i].size/1024>r[4])return c(e,u.file_max_size.replace("$1",r[4])),!1}return!0},function(e,r){if(r.length<2)throw new Error("Error validating field '"+e.attr("name")+"', insufficient parameters.");var t=e.val(),i=!1,a=t.substring(t.lastIndexOf(".")+1,t.length).toLowerCase(),n=r[1].split("|");for(ifile=0;ifile<n.length;ifile++)if(a==n[ifile].toLowerCase()){i=!0;break}if(!i)return validas=e.data("dj-validator").substring(e.data("dj-validator").indexOf(",")+1),c(e,u.file_ext.replace("$1",validas.replace(/\|/g,","))),!1;return!0},function(e,r){if(r.length<2)throw new Error("Error validating field '"+e.attr("name")+"', insufficient parameters.");if(!/^([a-z0-9_.-])+@(([a-z0-9-])+.)*([a-z0-9])+$/i.test(e.val()))return c(e,u.email),!1;if("*"!=r[1]&&e.val().length>r[1])return c(e,u.email_max.replace("$1",r[1])),!1;return!0},function(e){if(!/^(\+?[0-9]{2,3}[- ]?)?[0-9]{5,12}$/.test(e.val()))return c(e,u.phone),!1;return!0},function(e,r){if(r.length<2)throw new Error("Error validating field '"+e.attr("name")+"', insufficient parameters.");if(!/^(https?|s?ftp)\:\/\/[\w\-_]+(\.[\w\-_]+)+([\w\-\.,@?^=%&amp;:/~\+#]*[\w\-\@?^=%&amp;/~\+#])?$/.test(e.val()))return c(e,u.url),!1;if("*"!=r[1]&&e.val().length>r[1])return c(e,u.url_max.replace("$1",r[1])),!1;return!0},function(e,r){if(r.length<2)throw new Error("Error validating field '"+e.attr("name")+"', insufficient parameters.");if(r[1]=r[1].replace("°",","),!(r[2]?new RegExp(r[1],r[2]):new RegExp(r[1])).test(e.val()))return c(e,u.regexp),!1;return!0},function(e,r){if(r.length<3)throw new Error("Error validating field '"+e.attr("name")+"', insufficient parameters.");if(e.val()!=l("#"+r[1]).val())return c(e,u.equal.replace("$1",r[2])),!1;return!0},function(e,r){if(r.length<3)throw new Error("Error validating field '"+e.attr("name")+"', insufficient parameters.");if(e.val()==l("#"+r[1]).val())return c(e,u.not_equal.replace("$1",r[2])),!1;return!0},function(e,r){if(r.length<3)throw new Error("Error validating field '"+e.attr("name")+"', insufficient parameters.");fs=l("input[data-dj-validator-group="+r[1]+"]");var t=!1,a=fs.length;for(i=0;i<a;i++)value=l(fs[i]).val(),null==value||""==value||/^\s+$/.test(value)||(t=!0);0==t&&c(e,u.or.replace("$1",r[2]));return t},function(e,r){if(r.length<3)throw new Error("Error validating field '"+e.attr("name")+"', insufficient parameters.");var t=[],t=e.val();if("*"==r[2]){if(t.length<parseInt(r[1]))return c(e,u.multi_min.replace("$1",r[1])),!1}else if(t.length<parseInt(r[1])||t.length>parseInt(r[2]))return c(e,u.multi_between.replace("$1",r[1]).replace("$2",r[2])),!1;return!0},function(e,r){if(r.length<2)throw new Error("Error validating field '"+e.attr("name")+"', insufficient parameters.");if(0==window[r[1]](e))return c(e,u.call),!1;return!0},function(e){var r=l("input[name="+e.attr("name")+"]");for(i=0;i<r.length;i++)if(l(r[i]).is(":checked"))return!0;return c(e,u.radio),!1},function(e,r){{if(r[1]){var t=l("input[data-dj-validator-group="+r[1]+"]"),a=0;for(i=0;i<t.length;i++)l(t[i]).is(":checked")&&a++;if("*"==r[3]){if(a<parseInt(r[2]))return c(e,u.check_multi_min.replace("$1",r[4]).replace("$2",r[2])),!1}else if(a<parseInt(r[2])||a>parseInt(r[3]))return c(e,u.check_multi_between.replace("$1",r[4]).replace("$2",r[2]).replace("$3",r[3])),!1;return!0}if(!e.is(":checked"))return c(e,u.check_single),!1}return!0},function(e,r){var t=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]).){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]).){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,i=/^((25[0-5]|2[0-4][0-9]|[01]?[0-9]?[0-9])\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9]?[0-9])$/;if(r[1])if("v6"==r[1]){if(!t.test(e.val()))return c(e,u.ip.replace("$1","IPv6")),!1}else{if("v4"!=r[1])throw new Error("Error validating field '"+e.attr("name")+"', invalid ip option.");if(!i.test(e.val()))return c(e,u.ip.replace("$1","IPv4")),!1}else if(!t.test(e.val())&&!i.test(e.val()))return c(e,u.ip.replace("$1","IP")),!1;return!0}],s="display:none; color:red; text-align:inherit; font:.9em fantasy bold italic;",u={required:"Required field.",word_min:"At least $1 characters with no spaces.",word_between:"Between $1 and $2 characters with no spaces.",atext_min:"At least $1 alphabetic characters.",atext_between:"Between $1 and $2 alphabetic characters.",antext_min:"At least $1 alphabetic characters or digits.",antext_between:"Between $1 and $2 alphabetic characters or digits.",text_min:"At least $1 characters.",text_between:"Between $1 and $2 characters.",int_invalid:"Invalid integer.",int_min:"The number must be greater than or equal to $1.",int_max:"The number must be less than or equal to $1",int_between:"The number must be between $1 and $2.",num_invalid:"Invalid real number.",num_min:"The number must be greater than or equal to $1.",num_max:"The number must be less than or equal to $1",num_between:"The number must be between $1 and $2.",dig_min:"At least $1 digits.",dig_between:"Between $1 and $2 digits.",file_min:"Select at least $1 files.",file_between:"Select between $1 and $2 files.",file_format:"Invalid file type.",file_min_size:"Files must be larger than $1 kb in size.",file_max_size:"Files must be less than $1 kb. in size",file_ext:"Valid file extensions: $1.",email:"Email not valid.",email_max:"Email must be less than $1 characters.",phone:"Invalid phone number.",url:"Invalid url.",url_max:"URL must be less than $1 characters",ip:"Invalid $1 address",regexp:"Invalid value.",or:"$1: At least one of these fields is required.",equal:"Must be equal to: $1.",not_equal:"Must be different from: $1.",multi_min:"Select at least $1 options",multi_between:"Select from $1 to $2 options.",call:"Invalid value.",radio:"Check an option.",check_single:"Check this option.",check_multi_min:"$1: Check at least $2 options.",check_multi_between:"$1: Check from $2 to $3 options."};function c(e,r){var t=e.data("dj-validator-msg");t&&(r=t),$new=l('<p class="dj-validator-msg" style="'+s+'">'+r+"</p>");var i=e.attr("type"),a=e.is(":visible"),n=e.data("input-group");i&&("radio"==i||"checkbox"==i)||!a||n?$new.appendTo(e.parent()):$new.insertAfter(e),$new.fadeIn(1500)}function a(e){e.find(".dj-validator-msg").remove()}function n(e){var r=!0;if(function(e){if(e.data("dj-validator-group"))return!0;var r=e.val();return null!=r&&""!=r&&!/^\s+$/.test(r)}(e)){var t=e.data("dj-validator");if(t){var i=t.split("&");for(j=0;j<i.length;j++){var a=i[j].split(","),n=f.indexOf(a[0]);if(-1==n)throw new Error("'"+a[0]+"' is not a valid DjValidator key.");r=!!o[n](e,a)&&r}}}else null!=e.attr("required")&&(c(e,u.required),r=!1);return r}function t(e){var t=!0;return a(e),e.find(":input").each(function(e,r){t=!!n(l(r))&&t}),t}l.fn.djValidator=function(e,r){if(!e)return this.filter("form").each(function(){var e=l(this);e.attr("novalidate","novalidate"),e.submit(function(){return t(e)})});switch(e){case"validate":if(1<this.length)throw new Error("The 'validate' option requires the selection of a single form, there are "+this.length+" selected.");return t(l(this));case"callback":return this.filter("form").each(function(){var e=l(this);e.attr("novalidate","novalidate"),e.submit(function(){if(1==t(e)){if(!r)throw new Error("The 'callback' mode requires a function as second parameter.");r(e)}return!1})});case"clean":return this.filter("form").each(function(){a(l(this))});case"field":return l(this).parent().find(".dj-validator-msg").remove(),n(l(this));default:throw new Error("Invalid mode for DjValidator.")}},l.addDjValidator=function(e,t,i){f.push(e),o.push(function(e,r){return 0!=i(e,r)||(c(e,t),!1)})},l.setDjValidatorStyle=function(e){s=e||"display:none; color:red; text-align:inherit; font:.9em fantasy bold italic;"},l.setDjValidatorLabels=function(e){u=e}}(jQuery);